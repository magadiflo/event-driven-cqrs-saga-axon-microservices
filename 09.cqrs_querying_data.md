# Sección 09: CQRS. Consultando Datos

---

## Crea Rest Controller

Vamos a crear un nuevo controlador que será para realizar búsquedas, de esa manera, según el autor, mantendrá separada
tantos los `commands` como los `queries`.

Esta clase la crearemos en la siguiente dirección
`src/main/java/dev/magadiflo/app/query/rest/ProductQueryController.java`.

````java

@RestController
@RequestMapping(path = "/api/v1/products")
public class ProductQueryController {

}
````

## Crea endpoint del servicio web para obtener productos

El endpoint que crearemos retornará una lista de productos. Para eso, crearemos la clase `ProductRestModel`, que será
como nuestro `DTO`. Estas propiedades que contendrá nuestra clase las copiaremos de la clase `ProductCreatedEvent`,
por lo tanto, tendrá la misma información. La finalidad de crear una nueva clase es para tener bien definida la
responsabilidad de cada una.

````java

@Data
public class ProductRestModel {
    private String productId;
    private String title;
    private BigDecimal price;
    private Integer quantity;
}
````

Ahora sí creamos el endpoint que nos retornará una lista de `ProductRestModel`.

````java

@RestController
@RequestMapping(path = "/api/v1/products")
public class ProductQueryController {

    @GetMapping
    public ResponseEntity<List<ProductRestModel>> getProducts() {
        return null;
    }

}
````